# Device & User
device:
  id: "local_owner"
  name: "Primary Workstation"

# Models - 3 Types for Different Tasks
models:
  # Coding model - for programming tasks
  coding: "deepseek-coder:6.7b"
  
  # General model - for everyday queries
  general: "mistral:7b"
  
  # Reasoning model - for complex analysis, step-by-step thinking
  reasoning: "deepseek-r1:14b"

# Memory
memory:
  base_path: "./memory"
  default_topics: ["general", "yazanaki", "elementalmc"]
  auto_topic_detection: true
  similarity_threshold: 0.7

# Startup Animation
startup:
  animation_enabled: true
  animation_duration: 6.0
  sound_enabled: true
  sound_volume: 0.5

# Interfaces
interfaces:
  voice:
    enabled: true
    language: "en-US"
    
    # OPTIMIZED VAD SETTINGS - For clean mic with noise suppression
    # Balanced between accuracy and responsiveness
    vad_aggressiveness: 2  # Moderate filtering (good for clean mics)
                           # Your noise suppression handles the rest
    
    silence_duration: 1.3  # Wait 1.3 seconds of silence before ending speech
                          # Sweet spot for natural pauses
    
    min_speech_duration: 0.8  # Speech must be at least 0.8 seconds
                              # Filters out artifacts while keeping responsiveness
                              # This catches "the" but not real speech
    
    # Energy threshold for speech detection (NEW)
    # Higher = requires louder audio to be considered speech
    min_energy_threshold: 300  # Default is typically 100-200
                               # Increase to 500 if still getting false triggers
    
    # Debug mode - logs energy levels (useful for tuning)
    debug_vad: true  # Set to true to see what VAD is detecting
    
    # Speech recognition - 100% LOCAL with Vosk ONLY
    vosk_model_path: "./models/vosk"  # Path to Vosk model directory
    
  tts:
    rate: 175  # Words per minute
    volume: 0.9
    voice_id: 0
  
  daemon:
    porcupine_keyword: "kenzai"
    porcupine_sensitivity: 1.0
    porcupine_access_key: "MQuwPtdtG5hLtDpRtDaS9qx1QBxQlY82rXSk3Sn0rPEevGdLtQUzxA=="
    porcupine_keyword_path: "assets/wake_words/kenzai.ppn"

# VAD Troubleshooting Guide:
#
# PROBLEM: Responds to background noise / false "the" triggers
# SOLUTION: 
#   - Set vad_aggressiveness = 3 (DONE)
#   - Set min_speech_duration = 1.0 or higher (DONE)
#   - Move away from fans, AC, computer noise
#   - Use push-to-talk mode instead (see below)
#
# PROBLEM: Cuts you off mid-sentence
# SOLUTION:
#   - Increase silence_duration to 2.0 or 2.5
#   - Speak without long pauses
#
# PROBLEM: Slow to respond
# SOLUTION:
#   - Decrease silence_duration to 1.0
#   - This is the tradeoff for accuracy
#
# PROBLEM: Still getting false triggers even at max settings
# SOLUTION: Your environment is too noisy. Options:
#   1. Use a directional microphone (cardioid pattern)
#   2. Enable push-to-talk mode (hold key to talk)
#   3. Use a quieter room
#   4. Increase min_speech_duration to 2.0

# Alternative: Push-to-Talk Mode (No VAD false triggers)
# Uncomment to enable:
# 
# interfaces:
#   voice:
#     mode: "push_to_talk"  # Hold a key to talk, release to process
#     push_key: "ctrl+space"  # Key combination to hold while talking
#     vad_aggressiveness: 2  # Can be lower since manual activation
#     silence_duration: 0.8  # Faster response with manual control
#     min_speech_duration: 0.3  # Can be lower with manual control

# Vosk Model Setup (100% OFFLINE):
# 1. Download model from: https://alphacephei.com/vosk/models
# 2. Recommended: vosk-model-small-en-us-0.15 (40MB) or vosk-model-en-us-0.22 (1.8GB)
# 3. Extract to: ./models/vosk/
# 4. Structure: ./models/vosk/vosk-model-small-en-us-0.15/
    
  gui:
    enabled: true
    default_appearance: "circle"
    default_position: "top-right"
    default_size: [400, 400]
    draggable: true
    resizable: true
    snap_to_edges: true
    always_on_top: true
    
  discord:
    enabled: false
    bridge_mode: "direct"

# Integrations
integrations:
  file_system:
    enabled: false
    whitelist_folders:
      - "D:/Yazanaki"
      - "D:/Projects"
    allowed_extensions: [".py", ".js", ".txt", ".md", ".yaml", ".json"]
    create_backups: true
    
  spotify:
    enabled: false
    client_id: "${SPOTIFY_CLIENT_ID}"
    client_secret: "${SPOTIFY_CLIENT_SECRET}"
    
  app_launcher:
    enabled: false
    apps:
      vscode: "C:/Program Files/Microsoft VS Code/Code.exe"
      browser: "chrome"
      spotify: "spotify"

# Personality - Refined Professional Style
personality:
  verbosity: "balanced"
  confirmation_required: false

# Greetings - Professional with respectful titles
greetings:
  rotation: true
  morning:
    - "Good morning, your Highness"
    - "Good morning, Sir"
    - "Morning, my Lord"
    - "Good morning"
    - "A new day, Sire"
    - "Good morning, ready when you are"
    - "Morning, your Highness"
    - "The day begins, my Lord"
  afternoon:
    - "Good afternoon, Sire"
    - "Good afternoon, your Highness"
    - "Afternoon, Sir"
    - "Good afternoon"
    - "Good afternoon, my Lord"
    - "At your service, Sire"
    - "Afternoon, your Highness"
    - "Ready to assist, Sir"
  evening:
    - "Good evening, my Lord"
    - "Good evening, your Highness"
    - "Evening, Sir"
    - "Good evening"
    - "Good evening, Sire"
    - "Evening, my Lord"
    - "The evening is yours, your Highness"
    - "At your command, Sir"
  night:
    - "Good evening, Sire"
    - "Evening, your Highness"
    - "Good evening, my Lord"
    - "Hello, Sir"
    - "Still working, my Lord?"
    - "Evening, Sire"
    - "At your service, your Highness"
    - "Ready when you are, Sir"
  shutdown:
    - "Goodbye, my Lord"
    - "Until next time, Sire"
    - "Farewell, your Highness"
    - "Take care, Sir"
    - "Goodbye"
    - "Rest well, my Lord"
    - "Until we meet again, Sire"
    - "Farewell, Sir"
    - "Good night, your Highness"

# Logging
logging:
  level: "INFO"
  file: "./data/logs/kenzai.log"
  console_output: true